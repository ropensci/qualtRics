<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to qualtRics â€¢ qualtRics</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<link href="../ropensci.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to qualtRics">
<meta property="og:description" content="">
<meta property="og:image" content="https://ropensci.github.io/qualtRics/logo.png">
<meta name="twitter:card" content="summary">
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">qualtRics</a>
        <div class="info">
          <span class="partof">part of  <a href="https://ropensci.org"><img src="https://d33wubrfki0l68.cloudfront.net/88338b7637e084df5c43e7a9e6293719dbaf10e2/30903/img/icon_lettering_white.svg" height="24" alt="rOpenSci"></a></span>
          <span class="version label label-default version-default" data-toggle="tooltip" data-placement="bottom" title="Released version">3.1.0</span>
        </div>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/qualtRics.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
        <li>
  <a href="https://github.com/ropensci/qualtRics">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Introduction to qualtRics</h1>
                        <h4 class="author">Julia Silge and Jasper Ginn</h4>
            
            <h4 class="date">2019-04-11</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/qualtRics/blob/master/vignettes/qualtRics.Rmd"><code>vignettes/qualtRics.Rmd</code></a></small>
      <div class="hidden name"><code>qualtRics.Rmd</code></div>

    </div>

    
    
<p><a href="https://www.qualtrics.com/">Qualtrics</a> is an online survey and data collection software platform. Qualtrics is used across many domains in both academia and industry for online surveys and research. While users can manually download survey responses from Qualtrics through a browser, importing this data into R is then cumbersome. The qualtRics R package implements the retrieval of survey data using the Qualtrics API and aims to reduce the pre-processing steps needed in analyzing such surveys.</p>
<p>Note that your institution must support API access and that it must be enabled for your account. Whoever manages your Qualtrics account can help you with this. Please refer to the <a href="https://api.qualtrics.com/docs/authentication">Qualtrics documentation</a> to find your API token.</p>
<p>The authors and contributors for this R package are not affiliated with Qualtrics and Qualtrics does not offer support for this R package.</p>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<p>Currently, the package contains three core functions:</p>
<ol style="list-style-type: decimal">
<li>
<code><a href="../reference/all_surveys.html">all_surveys()</a></code> fetches a list of all surveys that you own or have access to from Qualtrics.</li>
<li>
<code><a href="../reference/fetch_survey.html">fetch_survey()</a></code> downloads a survey from Qualtrics and loads it into R.</li>
<li>
<code><a href="../reference/read_survey.html">read_survey()</a></code> allows you to read CSV files you download manually from Qualtrics.</li>
</ol>
<p>It also contains helper functions:</p>
<ol style="list-style-type: decimal">
<li>
<code><a href="../reference/qualtrics_api_credentials.html">qualtrics_api_credentials()</a></code> stores your API key and base url in environment variables.</li>
<li>
<code><a href="../reference/survey_questions.html">survey_questions()</a></code> retrieves a data frame containing questions and question IDs for a survey.</li>
<li>
<code><a href="../reference/metadata.html">metadata()</a></code> retrieves metadata about your survey, such as questions, survey flow, number of responses etc.</li>
</ol>
<p>Note that you can only export surveys that you own, or to which you have been given administration rights.</p>
</div>
<div id="registering-your-qualtrics-credentials" class="section level2">
<h2 class="hasAnchor">
<a href="#registering-your-qualtrics-credentials" class="anchor"></a>Registering your Qualtrics credentials</h2>
<p>There are two important credentials you need to authenticate with the Qualtrics API. These are your <a href="https://api.qualtrics.com/docs/finding-qualtrics-ids">API key</a> and <a href="https://api.qualtrics.com/docs/root-url">institution-specific base URL</a>. The base URL you pass to the qualtRics package should either look like <code>yourdatacenterid.qualtrics.com</code> or like <code>yourorganizationid.yourdatacenterid.qualtrics.com</code>. The <a href="https://api.qualtrics.com/docs/root-url">Qualtrics API documentation</a> explains how you can find your base URL.</p>
<p>You can store your API credentials <code>QUALTRICS_API_KEY</code> and <code>QUALTRICS_BASE_URL</code> in your <code>.Renviron</code> file for repeated use across sessions. The qualtRics package has a function to help with this.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(qualtRics)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"></a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw"><a href="../reference/qualtrics_api_credentials.html">qualtrics_api_credentials</a></span>(<span class="dt">api_key =</span> <span class="st">"&lt;YOUR-QUALTRICS_API_KEY&gt;"</span>, </a>
<a class="sourceLine" id="cb1-4" data-line-number="4">                          <span class="dt">base_url =</span> <span class="st">"&lt;YOUR-QUALTRICS_BASE_URL&gt;"</span>,</a>
<a class="sourceLine" id="cb1-5" data-line-number="5">                          <span class="dt">install =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p>After you use this function, reload your environment (<code><a href="https://www.rdocumentation.org/packages/base/topics/readRenviron">readRenviron("~/.Renviron")</a></code>) so you can use the credentials without restarting R.</p>
</div>
<div id="a-simple-qualtrics-workflow" class="section level2">
<h2 class="hasAnchor">
<a href="#a-simple-qualtrics-workflow" class="anchor"></a>A simple Qualtrics workflow</h2>
<p>Once your Qualtrics API credentials are stored, you can see what surveys are available to you.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">surveys &lt;-<span class="st"> </span><span class="kw"><a href="../reference/all_surveys.html">all_surveys</a></span>() </a></code></pre></div>
<p>You can then download the data from any of these individual surveys (for example, perhaps the sixth one) directly into R.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">mysurvey &lt;-<span class="st"> </span><span class="kw"><a href="../reference/fetch_survey.html">fetch_survey</a></span>(<span class="dt">surveyID =</span> surveys<span class="op">$</span>id[<span class="dv">6</span>], </a>
<a class="sourceLine" id="cb3-2" data-line-number="2">                         <span class="dt">verbose =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
</div>
<div id="more-detailed-control" class="section level2">
<h2 class="hasAnchor">
<a href="#more-detailed-control" class="anchor"></a>More detailed control</h2>
<p>You can add date parameters to only retrieve responses between certain dates:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">mysurvey &lt;-<span class="st"> </span><span class="kw"><a href="../reference/fetch_survey.html">fetch_survey</a></span>(surveys<span class="op">$</span>id[<span class="dv">4</span>],</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">                         <span class="dt">start_date =</span> <span class="st">"2018-10-01"</span>,</a>
<a class="sourceLine" id="cb4-3" data-line-number="3">                         <span class="dt">end_date =</span> <span class="st">"2018-10-31"</span>,</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">                         <span class="dt">label =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<p>Note that your date and time settings may not correspond to your own timezone. You can find out how to do this <a href="https://www.qualtrics.com/support/survey-platform/getting-started/managing-your-account/#user-settings">here</a>. See <a href="https://api.qualtrics.com/docs/dates-and-times">this page</a> for more information about how Qualtrics handles dates and times. <strong>Keep in mind that this is important if you plan on using times / dates as cut-off points to filter data</strong>.</p>
<p>You may also reference a response ID; <code><a href="../reference/fetch_survey.html">fetch_survey()</a></code> will then download all responses that were submitted after that response:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">mysurvey &lt;-<span class="st"> </span><span class="kw"><a href="../reference/fetch_survey.html">fetch_survey</a></span>(surveys<span class="op">$</span>id[<span class="dv">4</span>],</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">                         <span class="dt">last_response =</span> <span class="st">"R_3mmovCIeMllvsER"</span>,</a>
<a class="sourceLine" id="cb5-3" data-line-number="3">                         <span class="dt">label =</span> <span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb5-4" data-line-number="4">                         <span class="dt">verbose =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p>You can filter a survey for specific questions:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="co"># what are the questions in a certain survey?</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2">questions &lt;-<span class="st"> </span><span class="kw"><a href="../reference/survey_questions.html">survey_questions</a></span>(<span class="dt">surveyID =</span> surveys<span class="op">$</span>id[<span class="dv">6</span>])</a>
<a class="sourceLine" id="cb6-3" data-line-number="3"></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="co"># download that survey, filtering for only certain questions</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5">mysurvey &lt;-<span class="st"> </span><span class="kw"><a href="../reference/fetch_survey.html">fetch_survey</a></span>(<span class="dt">surveyID =</span> surveys<span class="op">$</span>id[<span class="dv">6</span>],</a>
<a class="sourceLine" id="cb6-6" data-line-number="6">                         <span class="dt">save_dir =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/tempfile">tempdir</a></span>(),</a>
<a class="sourceLine" id="cb6-7" data-line-number="7">                         <span class="dt">include_questions =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"QID1"</span>, <span class="st">"QID2"</span>, <span class="st">"QID3"</span>),</a>
<a class="sourceLine" id="cb6-8" data-line-number="8">                         <span class="dt">verbose =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p>You can store the results in a specific location if you like:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">mysurvey &lt;-<span class="st"> </span><span class="kw"><a href="../reference/fetch_survey.html">fetch_survey</a></span>(<span class="dt">surveyID =</span> surveys<span class="op">$</span>id[<span class="dv">6</span>], </a>
<a class="sourceLine" id="cb7-2" data-line-number="2">                         <span class="dt">save_dir =</span> <span class="st">"/users/Julia/Desktop/"</span>, </a>
<a class="sourceLine" id="cb7-3" data-line-number="3">                         <span class="dt">verbose =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p>Note that surveys that are stored in this way will be saved as an <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/readRDS.html">RDS</a> file rather than e.g.Â a CSV. Reading an RDS file can be done like so:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">mysurvey &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/readRDS">readRDS</a></span>(<span class="dt">file =</span> <span class="st">"/users/Julia/Desktop/mysurvey.rds"</span>)</a></code></pre></div>
<p>You can read a survey that you downloaded manually from Qualtricsâ€™ website via a browser using <code><a href="../reference/read_survey.html">read_survey()</a></code>:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">mysurvey &lt;-<span class="st"> </span><span class="kw"><a href="../reference/read_survey.html">read_survey</a></span>(<span class="st">"/users/Julia/Desktop/mysurvey.csv"</span>)</a></code></pre></div>
<p>To avoid special characters (mainly periods) in header names, <code><a href="../reference/read_survey.html">read_survey()</a></code> uses question labels as the header names. The question belonging to that label is then added using the <a href="https://CRAN.R-project.org/package=sjlabelled">sjlabelled</a> package. Qualtrics gives names to these labels automatically, but you can easily change them.</p>
<p><img src="../../../../../Google%20Drive/data_science/ROpenSci/qualtRics/vignettes/qualtricsdf.png" width="80%"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#usage">Usage</a></li>
      <li><a href="#registering-your-qualtrics-credentials">Registering your Qualtrics credentials</a></li>
      <li><a href="#a-simple-qualtrics-workflow">A simple Qualtrics workflow</a></li>
      <li><a href="#more-detailed-control">More detailed control</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div>
  <p>qualtRics is a part of <img src="https://github.com/ropensci/logos/raw/master/icon_lettering_color.png" height="40" alt="rOpenSci">. Learn more at <a href="https://ropensci.org">ropensci.org</a>.</p>
</div>

<div class="author">
  <p>
    Developed by Jasper Ginn, Julia Silge.
    Site built by <a href="https://pkgdown.r-lib.org">pkgdown</a> &amp; <a href="https://ropensci.github.io/rotemplate/">rotemplate</a>.
  </p>
</div>
      </footer>
</div>

  

  </body>
</html>
